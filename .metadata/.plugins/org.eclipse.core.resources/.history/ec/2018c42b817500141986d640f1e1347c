import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.URL;
import java.net.URLConnection;
import java.util.ArrayList;


public class Main {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		ArrayList<busStopCodeSet> list = new ArrayList<busStopCodeSet>();
		int skip = 0;
		boolean cont = true;
		while (cont) {
			String apiUrl = "http://datamall.mytransport.sg/ltaodataservice.svc/BusStopCodeSet?$skip="+skip;
			try {
				URL url = new URL(apiUrl);
				URLConnection conn = url.openConnection();
				conn.setRequestProperty("accept", "*/*");
				conn.addRequestProperty("AccountKey", accountKey);
				conn.addRequestProperty("UniqueUserID", uniqueId);
				BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));
				String line = null;
				StringBuilder strBuilder = new StringBuilder(); 
				String wholeXML = "";
				while ((line = br.readLine()) != null) {
					if (skip < 50) {
						wholeXML += line;
					}
				}
				strBuilder.append(line);
				System.out.println(line);
				
				String[] splitString = strBuilder.toString().split("<m:properties>");
				for (String str : splitString) {
					System.out.println("the size is: " + list.size());
				}
			} catch (Exception e) {
				// TODO: handle exception
			}
			 
		}
		System.out.println("adsf");
	}

}
